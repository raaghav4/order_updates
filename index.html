import React, { useState } from 'react';
import { RefreshCw, Package } from 'lucide-react';

// All 9 orders data - Newest first (No 86 to No 78)
const ordersData = {
  lastUpdated: "23/12/2025 17:29",
  orders: [
    {
      orderNo: "86",
      customer: "P. Rajannadora",
      phone: "8919907098",
      date: "23/12/2025",
      time: "04:38 PM",
      state: "Andhra Pradesh",
      payment: "COD ‚úì",
      sareeImage: "https://images.unsplash.com/photo-1610030469983-98e550d6193c?w=500&h=500&fit=crop",
      paymentImage: "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=500&h=400&fit=crop"
    },
    {
      orderNo: "85",
      customer: "Lohith Kumar TK",
      phone: "8050403085",
      date: "23/12/2025",
      time: "10:10 AM",
      state: "Karnataka",
      payment: "COD ‚úì",
      sareeImage: "https://images.unsplash.com/photo-1583391733956-6c78276477e2?w=500&h=500&fit=crop",
      paymentImage: "https://images.unsplash.com/photo-1554224311-beee460ff105?w=500&h=400&fit=crop"
    },
    {
      orderNo: "84",
      customer: "M. Shanthkumar",
      phone: "7538859015",
      date: "22/12/2025",
      time: "10:06 PM",
      state: "Tamil Nadu",
      payment: "Online ‚úì",
      sareeImage: "https://images.unsplash.com/photo-1617627143750-d86bc21e42bb?w=500&h=500&fit=crop",
      paymentImage: "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=500&h=400&fit=crop"
    },
    {
      orderNo: "83",
      customer: "Md Giyas Ansari",
      phone: "9205161802",
      date: "22/12/2025",
      time: "10:08 PM",
      state: "Bengaluru",
      payment: "COD ‚úì",
      sareeImage: "https://images.unsplash.com/photo-1610030469983-98e550d6193c?w=500&h=500&fit=crop",
      paymentImage: "https://images.unsplash.com/photo-1554224311-beee460ff105?w=500&h=400&fit=crop"
    },
    {
      orderNo: "82",
      customer: "Anbarasan",
      phone: "8220364301",
      date: "22/12/2025",
      time: "04:11 PM",
      state: "Tamil Nadu",
      payment: "COD ‚úì",
      sareeImage: "https://images.unsplash.com/photo-1583391733956-6c78276477e2?w=500&h=500&fit=crop",
      paymentImage: "https://images.unsplash.com/photo-1554224311-beee460ff105?w=500&h=400&fit=crop"
    },
    {
      orderNo: "81",
      customer: "Vikas Kumar",
      phone: "9482552135",
      date: "22/12/2025",
      time: "04:11 PM",
      state: "Bengaluru",
      payment: "Online ‚úì",
      sareeImage: "https://images.unsplash.com/photo-1617627143750-d86bc21e42bb?w=500&h=500&fit=crop",
      paymentImage: "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=500&h=400&fit=crop"
    },
    {
      orderNo: "80",
      customer: "M.Penarasan",
      phone: "8668116386",
      date: "22/12/2025",
      time: "01:40 PM",
      state: "Tamil Nadu",
      payment: "Online ‚úì",
      sareeImage: "https://images.unsplash.com/photo-1610030469983-98e550d6193c?w=500&h=500&fit=crop",
      paymentImage: "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=500&h=400&fit=crop"
    },
    {
      orderNo: "79",
      customer: "Seetha",
      phone: "9751455631",
      date: "21/12/2025",
      time: "09:23 PM",
      state: "Tamil Nadu",
      payment: "Online ‚úì",
      sareeImage: "https://images.unsplash.com/photo-1583391733956-6c78276477e2?w=500&h=500&fit=crop",
      paymentImage: "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=500&h=400&fit=crop"
    },
    {
      orderNo: "78",
      customer: "Sneha P",
      phone: "9742294374",
      date: "21/12/2025",
      time: "06:04 PM",
      state: "Karnataka",
      payment: "Online ‚úì",
      sareeImage: "https://images.unsplash.com/photo-1617627143750-d86bc21e42bb?w=500&h=500&fit=crop",
      paymentImage: "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=500&h=400&fit=crop"
    }
  ]
};

const DSTextile = () => {
  const [data, setData] = useState(ordersData);
  const [loading, setLoading] = useState(false);

  const refreshData = () => {
    setLoading(true);
    setTimeout(() => {
      setLoading(false);
    }, 500);
  };

  return (
    <div className="min-h-screen bg-gray-50">
      {/* Header */}
      <header className="bg-white shadow-sm border-b-2 border-blue-600">
        <div className="max-w-7xl mx-auto px-4 py-6">
          <h1 className="text-3xl font-bold text-gray-900 text-center">
            DS TEXTILE
          </h1>
          <p className="text-blue-600 text-center text-lg mt-1 font-medium">
            Live Order Updates
          </p>
        </div>
      </header>

      {/* Main Content */}
      <main className="max-w-7xl mx-auto px-4 py-8">
        {/* Description */}
        <div className="bg-white rounded-lg shadow-sm p-6 mb-6">
          <p className="text-gray-700 text-center text-lg">
            üîç Real-time transparency in every order. View complete order details with product images and payment confirmation.
          </p>
        </div>

        {/* Last Updated & Refresh */}
        <div className="flex flex-col sm:flex-row justify-between items-center mb-6 gap-4">
          <div className="text-sm text-gray-600">
            <span className="font-semibold">Last Updated:</span> {data.lastUpdated}
          </div>
          <div className="flex items-center gap-4">
            <div className="text-sm font-semibold text-gray-700">
              Total Orders: {data.orders.length}
            </div>
            <button
              onClick={refreshData}
              disabled={loading}
              className="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50"
            >
              <RefreshCw className={`w-4 h-4 ${loading ? 'animate-spin' : ''}`} />
              Refresh
            </button>
          </div>
        </div>

        {/* Orders Grid */}
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {data.orders.map((order, index) => (
            <div key={index} className="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow">
              {/* Order Number Badge */}
              <div className="bg-blue-600 text-white px-4 py-3 flex items-center justify-between">
                <div className="flex items-center gap-2">
                  <Package className="w-5 h-5" />
                  <span className="font-bold text-lg">Order No {order.orderNo}</span>
                </div>
                <span className="text-xs bg-blue-500 px-2 py-1 rounded">
                  {order.date}
                </span>
              </div>

              {/* Saree Image */}
              <div className="relative">
                <img 
                  src={order.sareeImage} 
                  alt={`Saree - Order ${order.orderNo}`}
                  className="w-full h-56 object-cover"
                />
                <div className="absolute top-2 right-2 bg-white px-3 py-1 rounded-full text-xs font-bold shadow-lg">
                  Saree
                </div>
              </div>

              {/* Customer Details */}
              <div className="p-4">
                <div className="mb-3">
                  <p className="text-xs text-gray-500 uppercase font-semibold mb-1">Customer</p>
                  <p className="text-lg font-bold text-gray-900">{order.customer}</p>
                </div>
                
                <div className="grid grid-cols-2 gap-3 text-sm mb-3">
                  <div>
                    <p className="text-gray-500 text-xs">Phone</p>
                    <p className="font-semibold text-gray-900">{order.phone}</p>
                  </div>
                  <div>
                    <p className="text-gray-500 text-xs">Time</p>
                    <p className="font-semibold text-gray-900">{order.time}</p>
                  </div>
                </div>

                <div className="grid grid-cols-2 gap-3 text-sm mb-3">
                  <div>
                    <p className="text-gray-500 text-xs">State</p>
                    <p className="font-semibold text-gray-900">{order.state}</p>
                  </div>
                  <div>
                    <p className="text-gray-500 text-xs">Payment</p>
                    <span className={`inline-block px-2 py-1 rounded-full text-xs font-bold ${
                      order.payment.includes('Online') 
                        ? 'bg-green-100 text-green-800' 
                        : 'bg-yellow-100 text-yellow-800'
                    }`}>
                      {order.payment}
                    </span>
                  </div>
                </div>

                {/* Payment Proof Thumbnail */}
                <div className="border-t pt-3">
                  <p className="text-xs text-gray-500 uppercase font-semibold mb-2">Payment Proof</p>
                  <div className="relative">
                    <img 
                      src={order.paymentImage} 
                      alt={`Payment - Order ${order.orderNo}`}
                      className="w-full h-32 object-cover rounded border-2 border-green-200"
                    />
                    <div className="absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded text-xs font-bold flex items-center gap-1">
                      <span>‚úì</span>
                      <span>Verified</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </main>

      {/* Footer */}
      <footer className="bg-white border-t mt-12 py-6">
        <div className="max-w-7xl mx-auto px-4 text-center text-gray-600 text-sm">
          <p>¬© 2025 DS TEXTILE. All rights reserved.</p>
          <p className="mt-1">Building trust through transparency</p>
        </div>
      </footer>
    </div>
  );
};

export default DSTextile;